<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Compretend Image Demos</title>
    <style>
      body {
        margin: 0 0 0 0;
        padding: 10px 10px 10px 10px;
        font-family: Courier New, Courier, monospace;
      }

      compretend-upload img {
        max-width: 200px;
      }
      compretend-demo {
        display: flex;
        flex-wrap: wrap;
      }
      demo-image, demo-text {

      }
      demo-text {
        flex-grow: 2;
      }
      demo-text p {
        margin-left: 10px;
      }
      demo-image img {
        max-width: 300px;
      }
      img.demo-image {
        -webkit-filter: grayscale(100%);
       -moz-filter: grayscale(100%);
         -o-filter: grayscale(100%);
        -ms-filter: grayscale(100%);
            filter: grayscale(100%);
      }
      demo-preamble {
        width: 100%;
        flex-grow: 5;
      }
      demo-cell {
        width: 100%;
        flex-grow: 5;
        display: flex;
      }
      span.italic {
        font-style: italic;
      }
      span.code {
        font-weight: bold;
        color: #1600cc;
      }
    </style>
  </head>
  <body class="body">
    <script>
      window.IMAGEURL = 'https://upload.wikimedia.org/wikipedia/commons/e/e4/RZA_Shankbone_2009_Tao_of_Wu.jpg'
      window.defer = fn => {
        window.addEventListener('CompretendReady', () => {
          Compretend.api = 'http://138.68.3.9:3000'
          fn()
        })
      }
    </script>

<demo-preamble>
    <p>Compretend images allow you to load images into the space constraints of your page cropped and scaled around the parts of the images you care about.</p>
    <p>Because we use Machine Learning to detect objects in an image you can use dynamic and user provided images and fit them intelligently within the design constraints of your page.</p>
    <h4>The images inside the blue box are generated by the code samples on the right.</h4>
  </demo-preamble>
    <compretend-demo>
      <demo-cell>
        <demo-image>
          <img src="https://upload.wikimedia.org/wikipedia/commons/e/e4/RZA_Shankbone_2009_Tao_of_Wu.jpg"
          class="demo-image"
          id="img-crop-only"
          />
        </demo-image>
        <demo-text>
<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #007700">&lt;compretend</span><span style="color: #0000CC">-img</span>
  <span style="color: #0000CC">src=</span><span style="background-color: #fff0f0">&quot;https://site.com/image.jpg&quot;</span>
  <span style="color: #0000CC">crop=</span><span style="background-color: #fff0f0">&quot;faces&quot;</span>
<span style="color: #007700">/&gt;</span></pre></div>
        <script>
          defer(() => {
            let elem = document.createElement('compretend-image')
            elem.src = IMAGEURL
            elem.crop = 'faces'
            elem.overlay('#img-crop-only')
          })
        </script>
      <p>
        The <span class="code">crop</span> attribute specifies which
        detection method to use for objects in the image. The image is
        then cropped around <span class="italic">all</span> objects
        found in the image.
      </p>
      </demo-text>
      </demo-cell>

      <demo-cell>
          <demo-image>
            <img src="https://upload.wikimedia.org/wikipedia/commons/e/e4/RZA_Shankbone_2009_Tao_of_Wu.jpg"
            class="demo-image"
            id="img-crop-scaled"
            />
          </demo-image>
          <demo-text>
<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #007700">&lt;compretend</span><span style="color: #0000CC">-img</span>
  <span style="color: #0000CC">src=</span><span style="background-color: #fff0f0">&quot;https://site.com/image.jpg&quot;</span>
  <span style="color: #0000CC">crop=</span><span style="background-color: #fff0f0">&quot;faces&quot;</span>
  <span style="color: #0000CC">scaled=</span><span style="background-color: #fff0f0">true</span>
  <span style="color: #0000CC">width=</span><span style="background-color: #fff0f0">&quot;40&quot;</span>
<span style="color: #007700">/&gt;</span></pre></div>
          <script>
            defer(() => {
              let elem = document.createElement('compretend-image')
              elem.src = IMAGEURL
              elem.crop = 'faces'
              elem.width = 40
              elem.scaled = true
              elem.overlay('#img-crop-scaled')
            })
          </script>
          <p>You can set the width of the img using the
            <span class="code">width</span> property.</p>
          <p>By default, the image will still be the origin
            crop size, but you can scale it down by setting the
            <span class="code">scaled</span> property to true.</p>
          <p>The image on the left is distorted to show that it has
            been scaled down, it's width would have been 40px
            if we had not manipulated it to illustrate scaling.</p>
          </demo-text>
        </demo-cell>
        <demo-cell>
            <demo-image>
              <img src="https://upload.wikimedia.org/wikipedia/commons/e/e4/RZA_Shankbone_2009_Tao_of_Wu.jpg"
              class="demo-image"
              id="img-crop-margin"
              />
            </demo-image>
            <demo-text>
<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #007700">&lt;compretend</span><span style="color: #0000CC">-img</span>
  <span style="color: #0000CC">src=</span><span style="background-color: #fff0f0">&quot;https://site.com/image.jpg&quot;</span>
  <span style="color: #0000CC">crop=</span><span style="background-color: #fff0f0">&quot;faces&quot;</span>
  <span style="color: #0000CC">scaled=</span><span style="background-color: #fff0f0">true</span>
  <span style="color: #0000CC">width=</span><span style="background-color: #fff0f0">&quot;117&quot;</span>
  <span style="color: #0000CC">margin=</span><span style="background-color: #fff0f0">&quot;20&quot;</span>
<span style="color: #007700">/&gt;</span></pre></div>
            <script>
              defer(() => {
                let elem = document.createElement('compretend-image')
                elem.src = IMAGEURL
                elem.crop = 'faces'
                elem.width = 117
                elem.margin = 20
                elem.scaled = true
                elem.overlay('#img-crop-margin')
              })
            </script>
            <p>When scaling the image you can also add margin
              around the cropping. This is quite useful since most detections
              are for attributes within what you typically want for a photo.
            </p>
            </demo-text>
          </demo-cell>


          <demo-cell>
              <demo-image>
                <img src="https://upload.wikimedia.org/wikipedia/commons/a/ae/People_of_Sanandaj_%2812861897313%29.jpg"
                class="demo-image"
                id="img-crop-people"
                />
              </demo-image>
              <demo-text>
  <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #007700">&lt;compretend</span><span style="color: #0000CC">-img</span>
    <span style="color: #0000CC">src=</span><span style="background-color: #fff0f0">&quot;https://site.com/image.jpg&quot;</span>
    <span style="color: #0000CC">crop=</span><span style="background-color: #fff0f0">&quot;people&quot;</span>
    <span style="color: #0000CC">scaled=</span><span style="background-color: #fff0f0">true</span>
    <span style="color: #0000CC">width=</span><span style="background-color: #fff0f0">&quot;400&quot;</span>
    <span style="color: #0000CC">margin=</span><span style="background-color: #fff0f0">&quot;20&quot;</span>
  <span style="color: #007700">/&gt;</span></pre></div>
              <script>
                defer(() => {
                  let elem = document.createElement('compretend-image')
                  elem.src = 'https://upload.wikimedia.org/wikipedia/commons/a/ae/People_of_Sanandaj_%2812861897313%29.jpg'
                  elem.crop = 'people'
                  elem.width = 400
                  elem.margin = 20
                  elem.scaled = true
                  elem.overlay('#img-crop-people')
                })
              </script>
              <p>When adding a margin the crop will never exceed the edges of the image.
              </p>
              </demo-text>
            </demo-cell>




    </compretend-demo>
        <!-- <compretend-img
        src="https://upload.wikimedia.org/wikipedia/commons/e/e4/RZA_Shankbone_2009_Tao_of_Wu.jpg"
        crop="faces"
        width=640
        scaled=true
      >
      </compretend-img> -->

      <script src="bundle.js"></script>
  </body>
</html>
